install.packages('caret')
library(caret)
df=read.csv("UniversalBank.csv")
setwd("~/R/Association Rules")
setwd("~/R/Association Rules")
df=read.csv("UniversalBank.csv")
View(df)
df[,i]=df[,c(10:14)]
df=df[,c(10:14)]
df=read.csv("UniversalBank.csv")
View(df)
df2=df[,c(10:14)]
View(df2)
install.packages("arules")
install.packages("arules")
library(arules)
df2_trans=as(df2, 'transactions')
head(df2_trans)
df[,i]=as.factor(df[,])
df=as.factor(df)
str(df)
df2=as.factor(df2)
str(df2)
summary(df2)
df2_trans=as(df2, 'transactions')
install.packages("arules")
library(arules)
df2_trans=as(df2, 'transactions')
str(df2)
summary(df2)
df=read.csv("UniversalBank.csv")
View(df)
df2=df[,c(10:14)]
View(df2)
install.packages("arules")
library(arules)
str(df2)
df2$Personal.Loan=as.factor(df2$Personal.Loan)
df2$Securities.Account=as.factor(df2$Securities.Account)
df2$CD.Account=as.factor(df2$CD.Account)
df2$Online=as.factor(df2$Online)
df2$CreditCard=as.factor(df2$CreditCard)
str(df2)
summary(df2)
df2_trans=as(df2, 'transactions')
head(df2_trans)
inspect((head(df2_trans,6)))
rules=apriori(df2_trans,parameter = list(supp=0.5,confidence=0.5,target='rules',minlen=1,maxlen=5)
rules=apriori(df2_trans,parameter = list(supp=0.5,confidence=0.5,target='rules',minlen=1,maxlen=5))
inspect(head(rules,20))
inspect(head(rules,2))
rules=apriori(df2_trans,parameter = list(supp=0.5,confidence=0.5,target='rules',minlen=1,maxlen=5))
inspect(head(rules,2))
rulesdf=as(rules,'data.frame')
rules=apriori(df2_trans,parameter = list(supp=0.5,confidence=0.5,target='rules',minlen=1,maxlen=5))
inspect(head(rules,20))
rules=apriori(df2_trans,parameter = list(supp=0.5,confidence=0.5,target='rules',minlen=3,maxlen=5))
inspect(head(rules,20))
str(df2)
for(i in 1:ncol(df2))
{
df2[,i]=ifelse(df2[,i]==0,Na,1)
}
for(i in 1:ncol(df2))
{
df2[,i]=ifelse(df2[,i]==0,NA,1)
}
View(df2)
str(df2)
df=read.csv("UniversalBank.csv")
View(df)
df2=df[,c(10:14)]
View(df2)
install.packages("arules")
library(arules)
df2$Personal.Loan=as.factor(df2$Personal.Loan)
df2$Securities.Account=as.factor(df2$Securities.Account)
df2$CD.Account=as.factor(df2$CD.Account)
df2$Online=as.factor(df2$Online)
df2$CreditCard=as.factor(df2$CreditCard)
str(df2)
summary(df2)
for(i in 1:ncol(df2))
{
df2[,i]=ifelse(df2[,i]==0,NA,1)
}
str(df2)
df2_trans=as(df2, 'transactions')
str(df2)
head(df2_trans)
df2_trans=as(df2, 'transactions')
df2$Personal.Loan=as.factor(df2$Personal.Loan)
{
df2[,i]=ifelse(df2[,i]==0,NA,1)
}
df2$Personal.Loan=as.factor(df2$Personal.Loan)
df2$Securities.Account=as.factor(df2$Securities.Account)
df2$CD.Account=as.factor(df2$CD.Account)
df2$Online=as.factor(df2$Online)
df2$CreditCard=as.factor(df2$CreditCard)
str(df2)
df2_trans=as(df2, 'transactions')
str(df2)
head(df2_trans)
inspect((head(df2_trans,6)))
rules=apriori(df2_trans,parameter = list(supp=0.5,confidence=0.5,target='rules',minlen=3,maxlen=5))
rules=apriori(df2_trans,parameter = list(supp=0.8,confidence=0.5,target='rules',minlen=2,maxlen=5))
rules=apriori(df2_trans,parameter = list(supp=0.8,confidence=0.2,target='rules',minlen=2,maxlen=5))
rules=apriori(df2_trans,parameter = list(supp=0.9,confidence=0.2,target='rules',minlen=2,maxlen=5))
rules=apriori(df2_trans,parameter = list(supp=0.02,confidence=0.8,target='rules',minlen=2,maxlen=5))
inspect(head(rules,20))
rulesdf=as(rules,'data.frame')
rules=apriori(df2_trans,parameter = list(supp=0.02,confidence=0.8,target='rules',minlen=2,maxlen=5))
rules=apriori(df2_trans,parameter = list(supp=0.02,confidence=0.5,target='rules',minlen=2,maxlen=5))
inspect(head(rules,20))
rules=apriori(df2_trans,parameter = list(supp=0.02,confidence=0.5,target='rules',minlen=3,maxlen=5))
inspect(head(rules,20))
df2$age=discretize(df$Age,method = 'frequency', breaks=3,labels = c(1,2,3))
str(df2)
df2_trans=as(df2, 'transactions')
rules=apriori(df2_trans,parameter = list(supp=0.02,confidence=0.5,target='rules',minlen=3,maxlen=5))
inspect(head(rules,20))
